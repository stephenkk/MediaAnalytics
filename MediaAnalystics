/*The program will read in the contents of a text file. The text file stores data on visits to
the sub-pages of a website. Each number in the file represents a sub-page. Each time a number appears
in the file represents a unique visit to that sub-page. The program counts up the number of visits 
per sub-page and calculates which page was visited the most.*/
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.Reader;
import java.util.Arrays;
import java.util.Scanner;
public class MediaAnalytics {
 
 
 public static void main(String[] args) {
 
 /* File names for this program adhere to the following format: Must start with
	 the name or initials of the company followed by space then date in YYYYMMDD*/
	 
  String fileName="CBS 20180601 PageViews.txt";
  int Visits[] = new int[100]; //each element is the number of a sub web page
  int i = 0;	//index of the array
  int most = 0;	//tracks the highest number of visits to any sub-page
  int mostVisited = 0;	//stores the index of the sub-page that was visited the most.
  
  Scanner reader;
  try {
   reader = new Scanner(new File("C:\\"+fileName));// Scanner reads in contents of the file to reader
   while (reader.hasNext()) { // hasNext() reads in one number at a time, assigns to var i
	   i=reader.nextInt();	// i is the index of the array
     Visits[i]=(Visits[i]+1);	//finds index in array. Increments number of visits by 1
     if (Visits[i] > most) {	//compares visits to current index to most. Assigns 
    	 most = Visits[i];		//assigns contents of current index to most if Visits[i] > most
    	 mostVisited = i;		//index i saved to mostVisited if Visits[i] > most
     }
     
    
   }
   
   
   
   
  } catch (FileNotFoundException e) {// error if file not found.
   // TODO Auto-generated catch block
   e.printStackTrace();
   System.exit(0);
  }
 
 
 
 
 int j = 0;
 String companyName = "";
 while (fileName.charAt(j)!=' ') {// Read the company name from the filename into a String var
  companyName = companyName + fileName.charAt(j);
  j++;
 }
 System.out.println("Website name: "+companyName);
 
 j++;	//advance j beyond the space inbetween company name and date
 String date = "";
 while (fileName.charAt(j)!=' ') {//Read the date into a String var
  date = date + fileName.charAt(j);
  j++;
 }
 
 System.out.print("PageView Date: "+date.charAt(0));	// Print out the data in YYYY-MM-DD format
 System.out.print(date.charAt(1));
 System.out.print(date.charAt(2));
 System.out.print(date.charAt(3));
 System.out.print("-");
 System.out.print(date.charAt(4));
 System.out.print(date.charAt(5));
 System.out.print("-");
 System.out.print(date.charAt(6));
 System.out.println(date.charAt(7));
 
 for (i=1; i<100; i++) {  //Print the number of visits per page
	   System.out.println("WebPage "+i+" was viewed "+Visits[i]+" times.");
 }
 		System.out.println();	//Print out the page with the most visits
 		System.out.println("WebPage "+mostVisited+
 				" was the most visited with "+most+" views.");
 		
 		
 	
 }
 
 
 
 
 }


